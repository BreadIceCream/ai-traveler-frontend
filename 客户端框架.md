# AI Traveler - 客户端技术架构

本项目的 PC 客户端基于 **Electron + React + Vite** 技术栈构建，旨在提供高性能、跨平台且具备现代化 UI/UX 的智能旅游助手体验。

---

## 1. 核心技术栈 (Core Tech Stack)

### 1.1 基础框架
*   **Electron (v33)**: 跨平台桌面应用容器，负责窗口管理、系统级 API 调用（如文件读写、Shell 操作）。
*   **React (v18)**: 用于构建用户界面的 JavaScript 库，使用 Functional Component 和 Hooks 模式。
*   **Vite (v5)**: 下一代前端构建工具，提供极速的冷启动和 HMR (热模块替换) 体验。
*   **TypeScript (v5)**: 全面启用静态类型检查，保障代码健壮性，统一前后端接口类型定义。

### 1.2 UI 与 样式
*   **Material UI (v5)**: 核心组件库，提供 Button, Dialog, Card, TextField 等基础组件，定制了专属的主题系统。
*   **Tailwind CSS (v3)**: 原子化 CSS 框架，用于快速处理布局 (Flex/Grid)、间距、尺寸等原子样式。
*   **MUI X Charts**: 基于 D3 的高性能 React 图表库，用于绘制费用统计饼图等。
*   **@dnd-kit**: 轻量级、模块化的拖拽库，用于行程详情页的景点排序与跨天移动。
*   **React Syntax Highlighter** & **React Markdown**: 用于渲染 AI 助手的富文本回复及代码块。

### 1.3 状态与数据流
*   **Zustand**: 轻量级全局状态管理，用于管理 `useAuthStore` (用户登录态)、`useTripStore` (行程临时状态) 等。
*   **TanStack Query (React Query v5)**: 强大的服务端状态管理库，负责 API 数据请求、缓存、去重及后台自动更新，替代了传统的 Redux 请求模式。
*   **React Router (v6)**: 声明式路由管理，处理页面跳转与参数传递。

### 1.4 地图与 API
*   **@amap/amap-jsapi-loader**: 动态加载高德地图 JS API，实现 POI 搜索、路径规划、地图选点等功能。
*   **Axios**: 基于 Promise 的 HTTP 客户端，配合拦截器处理全局请求/响应（如 Token 注入、统一报错）。
*   **Electron Store**: 轻量级本地数据持久化，用于存储用户偏好设置、窗口状态等。

---

## 2. 目录结构 (Directory Structure)

```tree
client/
├── dist-electron/      # Electron 主进程编译产物
├── src/                # 渲染进程 (React) 源码
│   ├── api/            # API 接口定义，与后端 Controller 对应
│   ├── assets/         # 静态资源 (Logo, Icons)
│   ├── components/     # 全局通用组件 (TitleBar, Loading, etc.)
│   ├── hooks/          # 自定义 Hooks
│   ├── pages/          # 页面级组件
│   │   ├── TripDetailPage.tsx  # 行程详情页
│   │   ├── TripExpensesPage.tsx# 费用管理页
│   │   ├── TripLogsPage.tsx    # 旅程日志页
│   │   └── ExplorePage.tsx     # 探索页
│   ├── router/         # 路由配置
│   ├── store/          # Zustand 状态 Store
│   ├── types/          # 全局 TypeScript 类型定义
│   ├── utils/          # 工具函数 (日期格式化, 验证等)
│   ├── App.tsx         # 应用根组件 (MUI Theme, QueryClient 配置)
│   └── main.tsx        # 入口文件
├── electron/           # Electron 主进程源码
│   ├── main/           # 主进程 (Main Process)
│   └── preload/        # 预加载脚本 (Preload Script)
└── vite.config.ts      # Vite 配置文件
```

---

## 3. 核心依赖清单 (Package.json)

```json
{
  "dependencies": {
    "electron": "^33.2.0",
    "react": "^18.3.1",
    "@mui/material": "^5.15.0",
    "@mui/icons-material": "^5.15.0",
    "@amap/amap-jsapi-loader": "^1.0.1",
    "axios": "^1.7.0",
    "@tanstack/react-query": "^5.0.0",
    "react-router-dom": "^6.28.0",
    "zustand": "^4.5.0",
    "react-markdown": "^9.1.0",
    "@dnd-kit/core": "^6.3.1",
    "@mui/x-charts": "^8.21.0",
    "electron-store": "^8.2.0",
    "clsx": "^2.1.0",
    "tailwind-merge": "^2.5.0"
  },
  "devDependencies": {
    "typescript": "^5.4.2",
    "vite": "^5.4.11",
    "tailwindcss": "^3.4.15",
    "electron-builder": "^24.13.3"
  }
}
```